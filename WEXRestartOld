
#!/bin/sh

# service name
# directory where are stored service bin
ENGINE_SERVICE_DIRECTORY=/opt/ibm/WEX/Engine/bin
# startup WEX engine service script
ENGINE_SERVICE_STARTUP_SCRIPT=engine-start
# stop WEX engine service script
ENGINE_SERVICE_SHUTDOWN_SCRIPT=engine-shutdown

APPBUILDER_SERVICE_DIRECTORY=/opt/ibm/WEX/AppBuilder/wlp/bin
# startup WEX appbuilder service script
APPBUILDER_SERVICE_STARTUP_SCRIPT=server

ZOOKEEPER_SERVICE_DIRECTORY=/opt/ibm/WEX/ZooKeeper/zookeeper/bin
# start and stop WEX ZOOKEEPER service script
ZOOKEEPER_SERVICE_STARTUP_SCRIPT=zkServer.sh

usage()
{
        echo "-----------------------"
        echo "Usage: $0 (stop|start|restart)"
        echo "-----------------------"
}

if [ -z $1 ]; then
        usage
fi

service_start()
{
        echo "Starting service '${SERVICE_NAME}'..."
        OWD=`pwd`
        cd ${SERVICE_DIRECTORY} &amp;&amp; ./${SERVICE_STARTUP_SCRIPT}
        cd $OWD
        echo "Service '${SERVICE_NAME}' started successfully"
}

service_stop()
{
        echo "Stopping service '${SERVICE_NAME}'..."
        OWD=`pwd`
        cd ${SERVICE_DIRECTORY} &amp;&amp; ./${SERVICE_SHUTDOWN_SCRIPT}
        cd $OWD
        echo "Service '${SERVICE_NAME}' stopped"
}

case $1 in
        stop)
                service_stop
        ;;
        start)
                service_start
        ;;
        restart)
                service_stop
                service_start
        ;;
        *)
                usage
esac
exit 0
